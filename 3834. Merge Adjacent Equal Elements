class Solution {
    public List<Long> mergeAdjacent(int[] nums) {
        Stack<Long>st=new Stack<>();
        for(int i=0;i<nums.length;i++){
            long x=nums[i];
            while(!st.isEmpty() && st.peek()==x){
                x=st.pop()+x;
            }
            st.push((long)x);
        }
        ArrayList<Long>re=new ArrayList<>();
        while(!st.isEmpty()){
            re.add(st.pop());
        }
        Collections.reverse(re);
        return re;
        
    }
}