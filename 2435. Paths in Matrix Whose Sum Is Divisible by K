class Solution {
    public int mod=1000000007;
    public int numberOfPaths(int[][] grid, int k) {
        int n=grid.length;
        int m=grid[0].length;
        int dp[][][]=new int[n][m][k];
        for(int i=0;i<n;i++){
            for(int j=0;j<m;j++){
                Arrays.fill(dp[i][j],-1);
            }
        }
        return solve(n-1,m-1,grid,dp,k,0);
    }
    public int solve(int row,int col,int grid[][],int dp[][][],int k,int sum){
        if (row < 0 || col < 0) return 0;
        if(row==0 && col==0){
            sum+=grid[0][0];
            if(sum%k==0){
                return 1;
            }else return 0;
        }
        if(dp[row][col][sum]!=-1)return dp[row][col][sum];
        int up=0;
        int left=0;
        up=solve(row-1,col,grid,dp,k,(sum+grid[row][col])%k)%mod;
        left=solve(row,col-1,grid,dp,k,(sum+grid[row][col])%k)%mod;
        return dp[row][col][sum]=(up+left)%mod;
    }
}
////////
////////